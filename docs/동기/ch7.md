# 가독성

> 읽기 쉬운 코드 작성 <br>
> 자바독 주석을 이용한 계약 문서화 <br>
> 구현 관련 주석을 자기설명적 코드로 대체하기

## 가독성을 바라보는 관점

의도를 간단하고 직접적으로 말하라 <br>

### 가독성의 재료

- 구조적 특징 : 프로그램 실행에 영향을 미치는 특징. (아키텍처, api 선택, 흐름 제어 구문 선택)
  - 아키텍처 수준 : 하나 이상의 클래스와 관련 있는 특징
  - 클래스 수준 : 한 클래스와 그 안에 포함된 모든 메서드와 관련 있는 특징
  - 메서드 수준 : 한 메서드와 관련 있는 특징
- 외부적 특징 : 주석이나 공백, 변수 명명 규칙 등 프로그램 실행에 영향을 미치지 않는 특징

## 구조적 가독성 특징

아키텍처 수준 특징
- 클래스를 나누는 방식과 그 사이의 관계 등을 비롯한 프로그램의 하이 레벨 구조를 의미

이해하기 쉬운 아키텍처
- 기능적 응집력이 큰 소수의 클래스로 구성
- 클래스 의존성이 복잡하지 않은 느슨한 네트워크로 연결
- 표준적인 디자인 패턴 애용

### 제어 흐름 구문

코드를 읽는 과정이 막힘 없이 순조롭게 흘러가야 한다. 의도를 명확하게 한다는 표현이 이런 의미. 

- `배열`이나 `Iterable` 을 구현한 `컬렉션` 순회 시 `향상된 for 루프` 사용
- `루프의 초기화`나 `갱신 단계`가 `단순`하다면 for 루프 사용
- 기타 상황에서는 `while`
- `자바 8`부터는 `스트림 라이브러리`를 이용해 `함수형 스타일`의 루프 작성 가능
  - 필터링하거나 변환하는 등 `단순한 루프 이상의 작업`을 수행할 때만 `함수형 스타일 api`를 사용한다.
  
### 표현식과 지역 변수

가독성을 개선하기 위해 복잡한 표현식을 간단한 하위 표현식으로 나눈다.
- 하위 표현식에서 도출된 값을 목적에 맞게 정의된 지역 변수에 할당.
- 추가된 지역 변수의 이름은 상응하는 하위 표현식의 의미를 적절하게 설명.

`변수 추출 리팩터링 규칙` : 하위 표현식을 설명할 수 있는 새로운 지역 변수로 대체한다.

## 외부적 가독성 특징

외부적 특징
- 주석
  - 문서화 주석은 자세하게, 구현 주석은 가능하면 줄여서.
- 이름
  - 설명적인 이름
- 공백
  - 문장 부호 역할을 하는 공백
- 들여쓰기
  - 일관된 들여쓰기

### 주석

- 문서화나 명세 주석은 `메서드` `클래스` 전체를 설명한다.
  - 자바독
- 구현 주석은 필드의 역할, 헷갈리는 알고리듬 관련 코드 조각의 의도를 비롯해 클래스 내부를 설명한다.
  - `private` 주석으로 생각할 수 있다.
  - 코드만으로 계약을 어느정도 표현할 수 있다. 그 이상 설명이 필요하면 주석을 이용한다.

구현 주석은 `최소화`하고 문서화 주석을 `선호`하자. 모든 주석을 `최신화`로 유지하자.

### 이름 짓기

자바는 카멜 표기법을 따른다.
- 코드에 익숙하지 않은 사람도 이름이 지칭하는 구성 요소의 역할을 쉽게 떠올릴 수 있도록 설명적인 이름을 사용하자
  - 길게 X, 한 문자로 충분할 수도 있음
- 클래스 이름은 명사, 메서드 이름은 동사로 짓는다.
- 표준이 아닌 축약어는 사용하지 않는다.

### 공백과 들여쓰기

글을 쓸 때 문단 끝에서 마침표를 찍듯 코드에서 `빈 줄`을 사용하자

## 가독성 높은 수조

### 자바독

자바독을 쓸 목적으로 작성하는 주석은 `/**` 로 시작
- html 태그 대부분을 지원한다
- `@author` 클래스 저자 (필수)
- `@version` 클래스 버전 (필수)
- `@return` 메서드 리턴 값 설명
- `@param` 메서드 파라미터 설명
- `@throw`s나 `@exception` 주어진 예외를 던지는 조건 설명
- `{@link ...}` 다른 프로그램 구성요소를 가리키는 링크
- `{@code ...}` 코드 조각용 서식 적용

### connectTo 정리하기

- 가독성 팁 : 리팩토링 규칙 임시-질의 대체 : 지역 변수를 사용하는 대신 값을 계산하는 새로운 메서드를 호출한다.

비검사 예외는 문서화할 것을 권장
- `@throws` `@exception` 태그를 이용
- 자바 api 공식 문서를 보면 이를 표준적으로 준수하고 있음.
  - ArrayList의 get() 의 인덱스가 올바른 범위에서 벗어나면 비검사 예외 IndexOutOfBoundsException을 던진다는 사실을 명시한다.

## 가독성에 대한 마지막 고찰

- 가독성을 핑계로 효율적인 알고리듬을 버리고 초보적인 알고리듬을 사용하라는 건 아니다.
- 목표에 적합한 알고리듬을 선택해 최대한 깔끔하게 구현하기 위해 노력하자.
- 해커톤이나 코딩 경진대회에서 시간이 제한된 프로그래밍 환경에서는 가독성은 사치이다.
- 소스 코드를 분석하지 못하게 하고 싶을 수 있다.
  - 기업의 알고리듬이나 데이터를 감추기 위해서.
  - 소프트웨어를 난독화기
  - 머신 코드와 자바 바이트 코드, 자바 소스 코드를 비롯한 모든 프로그래밍 언어를 난독화 할 수 있음.
  



### 돌발 퀴즈 1

Q) 가독성의 영향을 받는 품질 속성은 무엇일까? <br>
-> 내부 로직을 유추할 수 있는 메서드 이름. 어떤 기능이 있을까 하는 클래스 이름. <br>
-> 문제를 잘 이해하지 못한듯. 읽기 쉬운 코드는 이해하기도 쉽고 수정할 때 안전하므로 가독성은 신뢰성과 유지 보수 성에 좋은 영향을 미친다고함.

### 돌발 퀴즈 2

Q) n개 정수를 포함하는 배열을 0부터 n - 1까지 초기화한다면 어떠한 루프를 사용해야할까? <br>
-> for 루프 사용 <br>
-> 배열요소를 변경하고 인덱스를 사용하기 때문에 표준 for 루프를 사용해야함 음 그읏

### 돌발 퀴즈 3

Q) private 메서드의 동작을 설명하는 메서드는 명세 주석일까, 구현 주석일까? <br>
-> 구현 주석. 구체적인 로직에 대한 설명을 쓸 것 같다. <br>
-> 음 그읏

### 돌발 퀴즈 4

Q) Employee 클래스에서 월급을 저장하는 필드의 이름으로 salary, s, monthlySalary, employeeMonthlySalary 중 어느 이름이 좋을까? <br>
-> salary가 좋은 것 같다. 직원 객체는 급여라는 속성을 가지는 게 자연스럽다고 생각한다. <br>
-> 정답 봄 : montlySalary라네요 ㅎ s와 salary는 너무 적은 정보만 포함한다고 한다.

### 돌발 퀴즈 5

Q) 어떠한 public 메서드가 클래스 불변 조건을 위반하면 AssertionError를 던진다고 가정해보자. 이 사실을 메서드의 자바독 문서에 언급해야 할까? <br>
-> 정답 봄 : AssertionError는 내부적인 오류가 발생헀을 때만 던지므로 문서화하면 안 된다.